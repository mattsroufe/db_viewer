<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
  <style>
    body {
      display: flex;
      font-family: 'Roboto', sans-serif;
      margin: 0;
    }
    table {
      border-collapse: collapse;
      margin: 64px;
    }
    th, td {
      text-align: left;
      border-top: 1px solid #9e9e9e7a;
      padding: 8px;
    }
    ul {
      margin: 0;
      list-style: none;
      background: #3f51b5;
      color: white;
      padding: 16px;
    }
    li {
      padding-bottom: 4px;
    }
    li:first-child {
      padding-top: 32px;
    }
    ul a {
      text-decoration: none;
      color: white;
      padding-right: 32px;
    }
    form {
      margin: 64px 0 0 64px;
    }
    textarea {
      border-color: #9e9e9e7a;
      padding: 24px;
      width: 740px;
      font-family: inherit;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <ul>
    <% tables.each do |table| %>
      <li><a href="/<%= table %>"><%= table %></a></li>
    <% end %>
  </ul>
  <div>
    <form>
      <textarea name="sql" id="myInput"><%= sql %></textarea>
    </form>
    <table>
      <thead>
        <tr>
          <% results.first.keys.each do |key| %>
            <th><%= key %></th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <% results.each do |result| %>
          <tr>
            <% result.keys.each do |key| %>
              <td><%= result[key] %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <script>
    var input = document.querySelector('textarea');
    input.focus();
    var tmpStr = input.value;
    input.value = '';
    input.value = tmpStr;

    input.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {
        event.preventDefault();
        document.querySelector("form").submit();
      }
    });
  </script>
</body>
